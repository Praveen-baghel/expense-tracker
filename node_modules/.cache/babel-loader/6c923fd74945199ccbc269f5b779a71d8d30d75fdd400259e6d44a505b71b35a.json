{"ast":null,"code":"import _toConsumableArray from\"/home/salazar/workspace/react_practice/expence-tracker/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/home/salazar/workspace/react_practice/expence-tracker/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/salazar/workspace/react_practice/expence-tracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import logo from\"./logo.svg\";import ExpenseItem from\"./components/ExpenseItem\";import{Card}from\"./components/Card\";import{ExpenseForm}from\"./components/ExpenseForm\";import{useEffect,useState}from\"react\";import{ExpenseFilter}from\"./components/ExpenseFilter\";import{Chart}from\"./components/Chart/Chart\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var getExpenses=function getExpenses(){var lists=JSON.parse(localStorage.getItem(\"expenses\"));if(lists){return lists;}return[];};function App(){var _useState=useState(getExpenses()),_useState2=_slicedToArray(_useState,2),expenses=_useState2[0],setExpenses=_useState2[1];var _useState3=useState(\"all\"),_useState4=_slicedToArray(_useState3,2),year=_useState4[0],setYear=_useState4[1];// const [filteredItems, setFilteredItems] = useState(getExpenses);\nvar func1=function func1(expenseData){var data=_objectSpread(_objectSpread({},expenseData),{},{id:Math.random().toString()});setExpenses(function(prevState){if(prevState){return[].concat(_toConsumableArray(prevState),[data]);}else{return[data];}});};var handleYearChange=function handleYearChange(year){setYear(year);};var filteredItems=[];if(year===\"all\"){filteredItems=expenses;}else{filteredItems=expenses.filter(function(item){var date=new Date(item.date);return date.getFullYear()===parseInt(year);});}var filteredExpenses=/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:\"No Expenses Found!\"});if(filteredItems.length>0){filteredExpenses=filteredItems.map(function(prod){return/*#__PURE__*/_jsx(ExpenseItem,{prod:prod},prod.id);});}useEffect(function(){localStorage.setItem(\"expenses\",JSON.stringify(expenses));},[expenses]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ExpenseForm,{onApp:func1}),/*#__PURE__*/_jsxs(Card,{children:[/*#__PURE__*/_jsx(ExpenseFilter,{handleYearChange:handleYearChange}),/*#__PURE__*/_jsx(Chart,{dataPoints:filteredItems}),filteredExpenses]})]});}export default App;","map":{"version":3,"names":["logo","ExpenseItem","Card","ExpenseForm","useEffect","useState","ExpenseFilter","Chart","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","getExpenses","lists","JSON","parse","localStorage","getItem","App","_useState","_useState2","_slicedToArray","expenses","setExpenses","_useState3","_useState4","year","setYear","func1","expenseData","data","_objectSpread","id","Math","random","toString","prevState","concat","_toConsumableArray","handleYearChange","filteredItems","filter","item","date","Date","getFullYear","parseInt","filteredExpenses","style","textAlign","children","length","map","prod","setItem","stringify","onApp","dataPoints"],"sources":["/home/salazar/workspace/react_practice/expence-tracker/src/App.js"],"sourcesContent":["import logo from \"./logo.svg\";\n\nimport ExpenseItem from \"./components/ExpenseItem\";\nimport { Card } from \"./components/Card\";\nimport { ExpenseForm } from \"./components/ExpenseForm\";\nimport { useEffect, useState } from \"react\";\nimport { ExpenseFilter } from \"./components/ExpenseFilter\";\nimport { Chart } from \"./components/Chart/Chart\";\n\nconst getExpenses = () => {\n  const lists = JSON.parse(localStorage.getItem(\"expenses\"));\n  if (lists) {\n    return lists;\n  }\n  return [];\n};\n\nfunction App() {\n  const [expenses, setExpenses] = useState(getExpenses());\n  const [year, setYear] = useState(\"all\");\n  // const [filteredItems, setFilteredItems] = useState(getExpenses);\n  const func1 = (expenseData) => {\n    const data = { ...expenseData, id: Math.random().toString() };\n    setExpenses((prevState) => {\n      if (prevState) {\n        return [...prevState, data];\n      } else {\n        return [data];\n      }\n    });\n  };\n  const handleYearChange = (year) => {\n    setYear(year);\n  };\n  let filteredItems = [];\n  if (year === \"all\") {\n    filteredItems = expenses;\n  } else {\n    filteredItems = expenses.filter((item) => {\n      const date = new Date(item.date);\n      return date.getFullYear() === parseInt(year);\n    });\n  }\n\n  let filteredExpenses = (\n    <h2 style={{ textAlign: \"center\" }}>No Expenses Found!</h2>\n  );\n  if (filteredItems.length > 0) {\n    filteredExpenses = filteredItems.map((prod) => {\n      return <ExpenseItem key={prod.id} prod={prod} />;\n    });\n  }\n  useEffect(() => {\n    localStorage.setItem(\"expenses\", JSON.stringify(expenses));\n  }, [expenses]);\n  return (\n    <>\n      <ExpenseForm onApp={func1} />\n      <Card>\n        <ExpenseFilter handleYearChange={handleYearChange} />\n        <Chart dataPoints={filteredItems} />\n        {filteredExpenses}\n      </Card>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}